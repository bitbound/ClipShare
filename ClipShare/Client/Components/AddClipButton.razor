@using ClipShare.Shared.Models 
@inject ClipShare.Client.Services.IClipboardService ClipboardService
@inject HttpClient HttpClient

<div class="floating-button bg-primary text-white" title="Add Clip" @onclick="AddClip">
    <i class="oi oi-plus"></i>
</div>



@code {

    [Parameter]
    public EventCallback<Clip> OnClipAdded { get; set; }

    public async Task AddClip()
    {
        var currentContent = await ClipboardService.GetClipboardText();
        var response = await HttpClient.PostAsJsonAsync("Clips", currentContent);
        var clip = await response.Content.ReadFromJsonAsync<Clip>();
        if (clip != null)
        {
            await OnClipAdded.InvokeAsync(clip);
        }
    }
} 